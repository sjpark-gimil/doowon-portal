<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/favicon.ico">
    <title>Doowon Portal - í•˜ë“œì›¨ì–´ê´€ë¦¬</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/darkmode.css" />
</head>

<body>
    <header class="header">
        <div class="logo"><a href="https://www.dwdcc.com/"><img src="images/doowon_logo.png" alt="Logo" /></a></div>
        <div class="title-container"><h1>Doowon Portal</h1><p>ë‘ì›ê³µì¡° í¬íƒˆ</p></div>
        <div class="menu-container">
            <span class="menu-item"><img src="images/user.svg" alt="User" /><%= username %></span>
            <a href="#" class="menu-item" onclick="handleLogout()"><img src="images/logout.svg" alt="Logout" />Logout</a>
        </div>                  
    </header>

    <nav class="main-nav">
        <div class="nav-container">
            <a href="/" class="nav-item <%= currentPath === '/' ? 'active' : '' %>">
                <img src="images/home.svg" alt="Home" />
                <span>ëŒ€ì‹œë³´ë“œ</span>
            </a>
            <a href="/weekly-reports" class="nav-item <%= currentPath === '/weekly-reports' ? 'active' : '' %>">
                <img src="images/settings.svg" alt="Weekly Reports" />
                <span>ì£¼ê°„ë³´ê³ ê´€ë¦¬</span>
            </a>
            <a href="/travel-reports" class="nav-item <%= currentPath === '/travel-reports' ? 'active' : '' %>">
                <img src="images/settings.svg" alt="Travel Reports" />
                <span>ì¶œì¥ë³´ê³ ê´€ë¦¬</span>
            </a>
            <a href="/hardware-management" class="nav-item <%= currentPath === '/hardware-management' ? 'active' : '' %>">
                <img src="images/settings.svg" alt="Hardware Management" />
                <span>í•˜ë“œì›¨ì–´ê´€ë¦¬</span>
            </a>
        </div>
    </nav>

    <div class="main-container">
        <div class="page-header">
            <h2>ğŸ’» í•˜ë“œì›¨ì–´ê´€ë¦¬</h2>
            <p>í•˜ë“œì›¨ì–´ ìì‚°ì„ ë“±ë¡, ê´€ë¦¬ ë° ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="content-section">
            <div class="section-header">
                <h3>ìƒˆ í•˜ë“œì›¨ì–´ ë“±ë¡</h3>
                <button class="btn-primary" onclick="showCreateForm()">+ ìƒˆ í•˜ë“œì›¨ì–´ ë“±ë¡</button>
            </div>

            <div class="create-form" id="createForm" style="display: none;">
                <form id="hardwareForm">
                    <div class="form-group">
                        <label for="hardwareName">í•˜ë“œì›¨ì–´ëª…</label>
                        <input type="text" id="hardwareName" name="name" required placeholder="í•˜ë“œì›¨ì–´ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="category">ì¹´í…Œê³ ë¦¬</label>
                            <select id="category" name="category" required>
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="desktop">ë°ìŠ¤í¬í†±</option>
                                <option value="laptop">ë…¸íŠ¸ë¶</option>
                                <option value="monitor">ëª¨ë‹ˆí„°</option>
                                <option value="printer">í”„ë¦°í„°</option>
                                <option value="network">ë„¤íŠ¸ì›Œí¬ ì¥ë¹„</option>
                                <option value="server">ì„œë²„</option>
                                <option value="other">ê¸°íƒ€</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="brand">ë¸Œëœë“œ</label>
                            <input type="text" id="brand" name="brand" required placeholder="ë¸Œëœë“œëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="model">ëª¨ë¸ëª…</label>
                            <input type="text" id="model" name="model" required placeholder="ëª¨ë¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label for="serialNumber">ì‹œë¦¬ì–¼ ë²ˆí˜¸</label>
                            <input type="text" id="serialNumber" name="serialNumber" required placeholder="ì‹œë¦¬ì–¼ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="purchaseDate">êµ¬ë§¤ì¼</label>
                            <input type="date" id="purchaseDate" name="purchaseDate" required>
                        </div>
                        <div class="form-group">
                            <label for="warrantyExpiry">ë³´ì¦ë§Œë£Œì¼</label>
                            <input type="date" id="warrantyExpiry" name="warrantyExpiry">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="assignedTo">ì‚¬ìš©ì</label>
                            <input type="text" id="assignedTo" name="assignedTo" placeholder="ì‚¬ìš©ìëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label for="location">ìœ„ì¹˜</label>
                            <input type="text" id="location" name="location" placeholder="ìœ„ì¹˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="specifications">ì‚¬ì–‘</label>
                        <textarea id="specifications" name="specifications" rows="4" placeholder="í•˜ë“œì›¨ì–´ ì‚¬ì–‘ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="notes">ë¹„ê³ </label>
                        <textarea id="notes" name="notes" rows="3" placeholder="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="hideCreateForm()">ì·¨ì†Œ</button>
                        <button type="submit" class="btn-primary">í•˜ë“œì›¨ì–´ ë“±ë¡</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="content-section">
            <div class="section-header">
                <h3>í•˜ë“œì›¨ì–´ ëª©ë¡</h3>
                <div class="filter-controls">
                    <select id="categoryFilter" onchange="filterHardware()">
                        <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                        <option value="desktop">ë°ìŠ¤í¬í†±</option>
                        <option value="laptop">ë…¸íŠ¸ë¶</option>
                        <option value="monitor">ëª¨ë‹ˆí„°</option>
                        <option value="printer">í”„ë¦°í„°</option>
                        <option value="network">ë„¤íŠ¸ì›Œí¬ ì¥ë¹„</option>
                        <option value="server">ì„œë²„</option>
                        <option value="other">ê¸°íƒ€</option>
                    </select>
                    <select id="statusFilter" onchange="filterHardware()">
                        <option value="">ì „ì²´ ìƒíƒœ</option>
                        <option value="active">ì‚¬ìš©ì¤‘</option>
                        <option value="inactive">ë¯¸ì‚¬ìš©</option>
                        <option value="maintenance">ìˆ˜ë¦¬ì¤‘</option>
                        <option value="retired">íê¸°</option>
                    </select>
                    <input type="text" id="searchFilter" onkeyup="filterHardware()" placeholder="ê²€ìƒ‰...">
                </div>
            </div>

            <div class="hardware-list" id="hardwareList">
                <div class="hardware-item">
                    <div class="hardware-header">
                        <h4>Dell OptiPlex 7090</h4>
                        <span class="hardware-status status-active">ì‚¬ìš©ì¤‘</span>
                    </div>
                    <div class="hardware-meta">
                        <span>ì¹´í…Œê³ ë¦¬: ë°ìŠ¤í¬í†±</span>
                        <span>ì‹œë¦¬ì–¼: DL123456789</span>
                        <span>ì‚¬ìš©ì: ê¹€ì² ìˆ˜</span>
                    </div>
                    <div class="hardware-details">
                        <span>êµ¬ë§¤ì¼: 2023-03-15</span>
                        <span>ìœ„ì¹˜: 3ì¸µ ì‚¬ë¬´ì‹¤</span>
                        <span>ë³´ì¦ë§Œë£Œ: 2026-03-15</span>
                    </div>
                    <div class="hardware-actions">
                        <button class="btn-small btn-primary" onclick="editHardware(1)">ìˆ˜ì •</button>
                        <button class="btn-small btn-info" onclick="viewHardware(1)">ìƒì„¸ë³´ê¸°</button>
                        <button class="btn-small btn-warning" onclick="maintenanceHardware(1)">ìˆ˜ë¦¬</button>
                        <button class="btn-small btn-danger" onclick="deleteHardware(1)">ì‚­ì œ</button>
                    </div>
                </div>

                <div class="hardware-item">
                    <div class="hardware-header">
                        <h4>HP LaserJet Pro M404n</h4>
                        <span class="hardware-status status-maintenance">ìˆ˜ë¦¬ì¤‘</span>
                    </div>
                    <div class="hardware-meta">
                        <span>ì¹´í…Œê³ ë¦¬: í”„ë¦°í„°</span>
                        <span>ì‹œë¦¬ì–¼: HP987654321</span>
                        <span>ì‚¬ìš©ì: ê³µìš©</span>
                    </div>
                    <div class="hardware-details">
                        <span>êµ¬ë§¤ì¼: 2022-08-20</span>
                        <span>ìœ„ì¹˜: 2ì¸µ ë³µì‚¬ì‹¤</span>
                        <span>ë³´ì¦ë§Œë£Œ: 2025-08-20</span>
                    </div>
                    <div class="hardware-actions">
                        <button class="btn-small btn-primary" onclick="editHardware(2)">ìˆ˜ì •</button>
                        <button class="btn-small btn-info" onclick="viewHardware(2)">ìƒì„¸ë³´ê¸°</button>
                        <button class="btn-small btn-success" onclick="completeMaintenance(2)">ìˆ˜ë¦¬ì™„ë£Œ</button>
                        <button class="btn-small btn-danger" onclick="deleteHardware(2)">ì‚­ì œ</button>
                    </div>
                </div>

                <div class="hardware-item">
                    <div class="hardware-header">
                        <h4>MacBook Pro 14"</h4>
                        <span class="hardware-status status-inactive">ë¯¸ì‚¬ìš©</span>
                    </div>
                    <div class="hardware-meta">
                        <span>ì¹´í…Œê³ ë¦¬: ë…¸íŠ¸ë¶</span>
                        <span>ì‹œë¦¬ì–¼: MB123456789</span>
                        <span>ì‚¬ìš©ì: ë¯¸ë°°ì •</span>
                    </div>
                    <div class="hardware-details">
                        <span>êµ¬ë§¤ì¼: 2023-11-10</span>
                        <span>ìœ„ì¹˜: ì°½ê³ </span>
                        <span>ë³´ì¦ë§Œë£Œ: 2026-11-10</span>
                    </div>
                    <div class="hardware-actions">
                        <button class="btn-small btn-primary" onclick="editHardware(3)">ìˆ˜ì •</button>
                        <button class="btn-small btn-info" onclick="viewHardware(3)">ìƒì„¸ë³´ê¸°</button>
                        <button class="btn-small btn-success" onclick="assignHardware(3)">ë°°ì •</button>
                        <button class="btn-small btn-danger" onclick="deleteHardware(3)">ì‚­ì œ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function handleLogout() {
            fetch('/logout', { method: 'GET' })
                .then(() => window.location.href = '/login')
                .catch(error => console.error('Logout error:', error));
        }

        function showCreateForm() {
            document.getElementById('createForm').style.display = 'block';
            document.getElementById('purchaseDate').value = new Date().toISOString().split('T')[0];
        }

        function hideCreateForm() {
            document.getElementById('createForm').style.display = 'none';
            document.getElementById('hardwareForm').reset();
        }

        function filterHardware() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const searchFilter = document.getElementById('searchFilter').value.toLowerCase();
            
            console.log('Filtering hardware by category:', categoryFilter, 'status:', statusFilter, 'search:', searchFilter);
        }

        function editHardware(id) {
            console.log('Editing hardware:', id);
            showCreateForm();
        }

        function viewHardware(id) {
            console.log('Viewing hardware details:', id);
        }

        function maintenanceHardware(id) {
            console.log('Setting hardware to maintenance:', id);
        }

        function completeMaintenance(id) {
            console.log('Completing maintenance for hardware:', id);
        }

        function assignHardware(id) {
            console.log('Assigning hardware:', id);
        }

        function deleteHardware(id) {
            if (confirm('ì •ë§ë¡œ ì´ í•˜ë“œì›¨ì–´ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                console.log('Deleting hardware:', id);
            }
        }

        document.getElementById('hardwareForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Saving hardware...');
            hideCreateForm();
        });
    </script>
</body>
</html>
